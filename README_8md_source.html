<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Waveform: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Waveform
   </div>
   <div id="projectbrief">Waveform is a C++ header-only library which represents both the time and the frequency domains of a waveform/signal as a single object, transforming using FFTW automatically when needed.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor"># Waveform</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Written by Paul Schellin at the Ohio State University, 2012 to 2014.</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Waveform is a C++ header-only library which represents both the time and the frequency domains of a waveform/signal as a single object, transforming <span class="keyword">using</span> FFTW automatically when needed.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;The Waveform <span class="keyword">class </span>provides a safe, intuitive interface to allow a signal to be described in either the time domain or in the frequency domain and then manipulated in any domain without explicitly needing to transform from one domain to another.</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;This library attempts to parallel the nature of waveforms in that the time domain, frequency domain, S domain, etc. are simply different representations of a singular physical entity.</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;## Installation</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;### Dependencies</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;The dependencies of the Waveform class are:</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;- a [C++11 compatible](http:<span class="comment">//cpprocks.com/c11-compiler-support-shootout-visual-studio-gcc-clang-intel/) compiler</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;- [boost](http:<span class="comment">//www.boost.org/) (optional in some cases)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;- [fftw](http:<span class="comment">//www.fftw.org/) (not necessary if you can match another library&#39;s interface to the one which Waveform was designed with)</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;I highly recommend using your system&#39;s package manager to install your compiler, the boost libraries, and fftw. The package manager will handle all of the annoying path variables for including headers and for linking libraries. Plus, it&#39;s much easier to update packages.</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;Otherwise, the Waveform class was designed to be a header-only library, so simply including the header (`#include &lt;Waveform.hpp&gt;`) and compiling with C++11 support (you can do this by adding `-std=c++11` to your compiler&#39;s flags) will be sufficient, assuming FFTW3 was already being used and was properly configured. If FFTW3 was not used before, you must add `-lfftw3` to the linker flags.</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;### Download the Waveform library</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;To download this library from github, simply type</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;```Shell</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;git clone https:<span class="comment">//github.com/paulschellin/Waveform.git</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;```</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;in a terminal to clone the library to the current directory.</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;Or click the &quot;Download ZIP&quot; button to the right to have your browser take care of the download, then unzip it where you need it.</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;### Verify &quot;Installation&quot;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;The Waveform library is [&quot;header-only&quot;](http:<span class="comment">//en.wikipedia.org/wiki/Header-only), so it does not require &quot;installation&quot; in the typical sense. But I&#39;ve included the unit tests to help verify that your development environment is configured properly to use the Waveform library in your projects.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;The test_src/Waveform_test.cpp file contains the beginnings of a testing suite for Waveform (using the Google Test framework).</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;The actual FFTW wrapper can be found in FftwTransform.hpp, which can be tested using the source file FftwTransform_test.cpp.</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;You must have the [Google Test framework](https:<span class="comment">//code.google.com/p/googletest/) installed in order to run these tests.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;NOTE: Google recommends just placing the test framework directory within the directory of the project you wish to test -- so in this case, you would put &quot;gtest-1.7.0&quot; (or similar) into the Waveform/ directory.</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;IMPORTANT: Not all tests will pass necessarily, I&#39;ve put explicit failures into the test files to remind myself and users that there are still features which I must implement.</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;There are a number of tests, find out more info about them [here](https:<span class="comment">//github.com/paulschellin/Waveform/blob/master/testing_info.md)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;## How To Use</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;If you have used FFTW before, you&#39;ll find using Waveform is much easier!</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;### Creating a Waveform instance</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;The Waveform library is provided as a class templates, so you&#39;ll need to know what parameters are used for instantiation:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;```C++</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;template &lt; typename TimeContainer</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;         , typename FreqContainer</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;         , typename TransformT</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;         &gt;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;```</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;`TimeContainer` is usually `std::vector&lt;double&gt;`, `FreqContainer` normally `std::vector&lt;std::complex&lt;double&gt;&gt;`, and `TransformT` can be one of a number of transforms, such as `Fftw3_Dft_1d`, `Fftw3_Dft_1d_Normalized`, `IdentityTransform`, and any other transforms I add in the future -- or ones that you write yourself (for more info on how to do that, look at the `PlaceholderTransformClass` definition in `Waveform.hpp`).</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;So a complete instantiation would be:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;```C++</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;template &lt; vector&lt;double&gt;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;         , vector&lt;complex&lt;double&gt; &gt;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;         , Fftw3_Dft_1d_Normalized</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         &gt; myWfm;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;```</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;Using typedefs to shorten the instantiation is recommended (see examples for how this is done).</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;### Using Waveform Functions</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;#### Constructors</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;| Constructor Name | Constructor Call | Parameter Names | Description |</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;| ---------------: | :--------------- | --------------- | :---------- |</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;| Default constructor           | ~~`Waveform ()`;~~                            | &lt;none&gt; | The default constructor is disallowed because the size of the `Waveform` is needed to construct many transform objects, such as `FftwTransform`s |</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;| Fill constructor              | `Waveform (size_t n)`;                    | `x` is the size of the time domain array | Constructs a `Waveform` container with `n` elements. |</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;| Copy constructor              | `Waveform (const Waveform&amp; x)`;           | `x` is the Waveform to copy | Constructs a `Waveform` container with a copy of each of the elements of both domains in `x`, in the same order. |</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;| Time domain copy constructor  | `Waveform (const TimeContainer&amp; x)`;  | `x` is the time domain container to copy | Constructs a `Waveform` container with the time domain being a copy of each of the elements in `x`. |</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;| Freq domain copy constructor  | `Waveform (const FreqContainer&amp; x)`;  | `x` is the freq domain container to copy | Constructs a `Waveform` container with the freq domain being a copy of each of the elements in `x`. |</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;#### Member Functions</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;- `GetSize()`</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;- `size()`</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;- `GetConstTimeSeries()`</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;- `GetConstFreqSpectrum()`</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;- `GetTimeSeries()`</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;- `GetFreqSpectrum()`</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;- `ValidateDomain()`</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;### Types of Transforms</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;Transform objects are what make the Waveform containers do the mathematical transforms.</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;#### Currently Supported</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;- `IdentityTransform` -- the two domains of the Waveform are always identical. Not particularly useful except for in testing</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;- `Fftw3_Dft_1d` -- based on fftw_plan_dft_r2c_1d and _c2r_1d</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;- `Fftw3_Dft_1d_Normalized` -- like Fftw3_Dft_1d but [normalized](http:<span class="comment">//www.fftw.org/doc/The-1d-Discrete-Fourier-Transform-_0028DFT_0029.html#The-1d-Discrete-Fourier-Transform-_0028DFT_0029)</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;#### [Detailed info on transforms can be found here](https:<span class="comment">//github.com/paulschellin/Waveform/blob/master/transforms_info.md)</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;### Examples</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;Some examples to help show how this library can be used.</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;#### Example: A Single 1D DFT (&quot;forward&quot; transform only)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;A typical use of FFTW for signal processing might look like the following:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;```C++</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">// Create the input and output array pointers</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;fftw_complex *in;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;fftw_complex *out;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">// Create the plan</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;fftw_plan p;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// Dynamically allocate the input and output arrays</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;in = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * N);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;out = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * N);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// Create the plan</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;p = fftw_plan_dft_1d(N, in, out, FFTW_FORWARD, FFTW_ESTIMATE);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//  Fill the input array as desired</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">// Explicitly perform the transform</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;fftw_execute(p); <span class="comment">/* repeat as needed */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//  Do something with the output array as desired</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// Free the memory used by the dynamically allocated arrays and the plan.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;fftw_destroy_plan(p);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;fftw_free(in);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;fftw_free(out);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;```</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;(the above example was taken from [FFTW&#39;s documentation website](http:<span class="comment">//www.fftw.org/doc/Complex-One_002dDimensional-DFTs.html) with some changes to format and commenting by me)</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;Using the Waveform library, we can write it like this:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;```C++</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    If we only want to use a single kind of transform (in this case the</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    same _dft_1d as we used above but with normalization performed (see</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    http://www.fftw.org/doc/The-1d-Discrete-Fourier-Transform-_0028DFT_0029.html#The-1d-Discrete-Fourier-Transform-_0028DFT_0029),</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">    then it&#39;s easiest to typedef the type to &quot;WaveformType&quot;:</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;typedef Waveform &lt; vector&lt;double&gt;               <span class="comment">// The type of the real-valued array</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                , vector&lt; complex&lt;double&gt; &gt;     <span class="comment">// The type of the complex-valued array</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                , Waveform::Transform::Fftw3_Dft_1d_Normalized      <span class="comment">// The type of transform we want to perform</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                &gt;           WaveformType;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// Create the Waveform instance:</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    WaveformType myWfm (N);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// Fill the time domain:</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    for (size_t i = 0; i &lt; myWfm.GetConstTimeSeries().size(); ++i)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">// Waveform::GetTimeSeries() returns the time domain container</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="comment">// (in this case a vector)</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        myWfm.GetTimeSeries().at(i) = someFillingFunction(i);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">        Now that we have filled the time domain array, we want to see the freq</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">        domain information.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">        We don&#39;t have to explicitly tell Waveform to do the transform, it just</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">        does it automatically and only if needed.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">        Here, we&#39;ll show it printing out the values of the freq domain:</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    ostream_iterator&lt; complex&lt;double&gt; &gt; cout_iterator (std::cout, &quot;, &quot;);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Here&#39;s the magic! When GetConstFreqSpectrum() is called the first time, the transform is performed and won&#39;t need to be performed again until the time domain is modified!</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    std::copy   ( myWfm.GetConstFreqSpectrum().begin()</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                , myWfm.GetConstFreqSpectrum().end()</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                , cout_iterator</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">        And we&#39;re done!</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">        There is nothing which needs to be freed, as everything is handled by</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">        the destructor of the Waveform class when the Waveform object goes out</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">        of scope at the end of the function!</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;```</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;In this case, you might be thinking that the FFTW implementation seems simpler (or at the very least, shorter), but the complexity of an FFTW implementation increases greatly as you need more complicated signal processing, while the Waveform implementation stays the exact same! You can observe this in the following examples.</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;### [More Examples Found Here](https:<span class="comment">//github.com/paulschellin/Waveform/blob/master/examples/example.md)</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;## Documentation</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;Documentation for Waveform is of the form used by Doxygen and there is a Doxyfile located in doc/. Running &quot;doxygen Doxyfile&quot; will generate html documentation which is easily viewed by opening html/index.html in a web browser.</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;The Doxygen website created leaves something to be desired, but other fixes are higher priority.</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;There is a (sometimes out-of-date) version of the Doxygen website available at [http:<span class="comment">//paulschellin.github.io/Waveform/](http://paulschellin.github.io/Waveform/).</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;## Why Use Waveform?</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;There are other libraries which simplify the use of transforms in signal processing, such as:</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;- [FFTW++](http:<span class="comment">//fftwpp.sourceforge.net/) has the goal of wrapping FFTW3 into a modern C++ interface</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;- [tspl](https:<span class="comment">//code.google.com/p/tspl/) is a set of header-only libraries for signal processing and numerical computation</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;- The Pierre Auger [&quot;Offline Software Framework&quot;](http:<span class="comment">//arxiv.org/abs/0707.1652) is the offline data analysis framework for the Pierre Auger Observatory, a high-energy cosmic ray detector</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;- [IT++](http:<span class="comment">//itpp.sourceforge.net/) a library of math, signal processing, and communication classes and functions</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;Of these libraries, only Auger&#39;s Offline software framework created an interface which made transforms automatic between domains, but it does so in a way that is difficult to separate from the rest of the framework. The interface it provides is not at all like any STL containers, which is something I tried to keep in mind while writing this library.</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;## Notes on Development</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;The features of this library are still in flux due to the decision to generalize the transforms with which Waveform is compatible. Many of the operators currently defined, especially the compound assignment operators (such as `operator +=`, `operator -=`, `operator *=`, and `operator /=`), were written with the assumption that the transform would be linear, but that cannot be guaranteed for all transforms which I would like to support.</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;It is likely that the compound assignment operators and other arithmetic operators will be deprecated because they no longer have a straightforward, obvious meaning when dealing with generalized transforms.</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;The functionality can probably be better provided by explicit friend functions which accept one Waveform and one other container as arguments. The details of these friend functions are not trivial and will take time to complete.</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;### Speak Up!</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;If you have any ideas, comments, criticism, or feature requests, please contact me via [email](paulschellin@gmail.com) or create an [&quot;Issue&quot;](https:<span class="comment">//github.com/paulschellin/Waveform/issues) on github and I&#39;ll work with you to improve this library.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;### Considerations for Future Features</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;[View Future Features list](https:<span class="comment">//github.com/paulschellin/Waveform/blob/master/future_features.md)</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 13 2014 17:47:07 for Waveform by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
